---
title: "Project1-crime"
author: "이예솔"
date: "2024-07-17"
categories: [project]
---

# 1. 파일 불러오기, 복사본 만들기
```{python}
import pandas as pd

df = pd.read_csv('data/crime.csv', encoding='EUC-KR')
crime=df.copy()
crime.head()
```
# 2. 변수이름 바꾸기
```{python}
crime = crime.rename(columns={
    '죄종별(1)':'대분류',
    '죄종별(2)':'소분류',
    '2018':'18_계',
    '2018.1':'18_일',
    '2018.2':'18_월',
    '2018.3':'18_화',
    '2018.4':'18_수',
    '2018.5':'18_목',
    '2018.6':'18_금',
    '2018.7':'18_토',
    })
crime.head()
```
# 3. 필요한 데이터 추출하기
## 3-1. 지울 행의 위해 인덱스 추출
```{python}
import numpy as np
crime.query('소분류 == "소계"')
```
## 3-2. 필요 없는 행 제거
```{python}
 
crime_18 = crime[['대분류','소분류','18_계','18_일','18_월','18_화','18_수','18_목','18_금','18_토']].drop([0,1,10,19])
crime_18
```
# 4. 데이터 타입 확인
```{python}
crime_18.info()
```

# 5. 데이터 타입 변환
```{python}
crime_18 = crime_18.astype({
    '18_계':int,
    '18_일':int,
    '18_월':int,
    '18_화':int,
    '18_수':int,
    '18_목':int,
    '18_금':int,
    '18_토':int
})
crime_18.dtypes
```
# 6. 파생변수 추가
```{python}
crime_18 = crime_18.assign(
    요일평균 = lambda x: x['18_계'] / 7,
    주말평균 = lambda x: (x['18_일']+x['18_토']+x['18_금'])/3,
    평일평균 = lambda x: (x['18_월']+x['18_화']+x['18_수']+x['18_목'])/4 )
# pd.options.display.float_format = '{:.2f}'.format
crime_18
```
# 7. 변수 기준 요약
```{python}
crime_18.groupby('대분류').agg(mean_rob=('18_일','mean'))

```


# 1. 변수 이름 변경 했는지?
# 2. 행들을 필터링 했는지?
# 3. 새로운 변수를 생성했는지?
# 4. 그룹 변수 기준으로 요약을 했는지?
# 5. 정렬 했는지?
```{python}

```

# .reset_index() 시리즈를 데이터프레임으로 바꿔줌

